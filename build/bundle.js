var app=function(){"use strict";function noop(){}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return"function"==typeof t}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function is_empty(t){return 0===Object.keys(t).length}function append(t,e){t.appendChild(e)}function insert(t,e,n){t.insertBefore(e,n||null)}function detach(t){t.parentNode.removeChild(t)}function destroy_each(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function element(t){return document.createElement(t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function empty(){return text("")}function listen(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function attr(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function children(t){return Array.from(t.childNodes)}function set_input_value(t,e){t.value=null==e?"":e}function set_style(t,e,n,a){t.style.setProperty(e,n,a?"important":"")}class HtmlTag{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=element(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)insert(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(detach)}}let current_component;function set_current_component(t){current_component=t}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(t){render_callbacks.push(t)}let flushing=!1;const seen_callbacks=new Set;function flush(){if(!flushing){flushing=!0;do{for(let t=0;t<dirty_components.length;t+=1){const e=dirty_components[t];set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const e=render_callbacks[t];seen_callbacks.has(e)||(seen_callbacks.add(e),e())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,flushing=!1,seen_callbacks.clear()}}function update(t){if(null!==t.fragment){t.update(),run_all(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(add_render_callback)}}const outroing=new Set;function transition_in(t,e){t&&t.i&&(outroing.delete(t),t.i(e))}const globals="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function mount_component(t,e,n,a){const{fragment:c,on_mount:r,on_destroy:o,after_update:i}=t.$$;c&&c.m(e,n),a||add_render_callback((()=>{const e=r.map(run).filter(is_function);o?o.push(...e):run_all(e),t.$$.on_mount=[]})),i.forEach(add_render_callback)}function destroy_component(t,e){const n=t.$$;null!==n.fragment&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(t,e){-1===t.$$.dirty[0]&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function init(t,e,n,a,c,r,o=[-1]){const i=current_component;set_current_component(t);const s=t.$$={fragment:null,ctx:null,props:r,update:noop,not_equal:c,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:blank_object(),dirty:o,skip_bound:!1};let l=!1;if(s.ctx=n?n(t,e.props||{},((e,n,...a)=>{const r=a.length?a[0]:n;return s.ctx&&c(s.ctx[e],s.ctx[e]=r)&&(!s.skip_bound&&s.bound[e]&&s.bound[e](r),l&&make_dirty(t,e)),n})):[],s.update(),l=!0,run_all(s.before_update),s.fragment=!!a&&a(s.ctx),e.target){if(e.hydrate){const t=children(e.target);s.fragment&&s.fragment.l(t),t.forEach(detach)}else s.fragment&&s.fragment.c();e.intro&&transition_in(t.$$.fragment),mount_component(t,e.target,e.anchor,e.customElement),flush()}set_current_component(i)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var browserSupportsTextareaTextNodes;function canManipulateViaTextNodes(t){if("TEXTAREA"!==t.nodeName)return!1;if(void 0===browserSupportsTextareaTextNodes){var e=document.createElement("textarea");e.value=1,browserSupportsTextareaTextNodes=!!e.firstChild}return browserSupportsTextareaTextNodes}function index(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();return n.text=e,n.collapse(!1),void n.select()}if(!document.execCommand("insertText",!1,e)){var a=t.selectionStart,c=t.selectionEnd;if("function"==typeof t.setRangeText)t.setRangeText(e);else{var r=document.createRange(),o=document.createTextNode(e);if(canManipulateViaTextNodes(t)){var i=t.firstChild;if(i){for(var s=0,l=null,d=null;i&&(null===l||null===d);){var u=i.nodeValue.length;a>=s&&a<=s+u&&r.setStart(l=i,a-s),c>=s&&c<=s+u&&r.setEnd(d=i,c-s),s+=u,i=i.nextSibling}a!==c&&r.deleteContents()}else t.appendChild(o)}if(canManipulateViaTextNodes(t)&&"#text"===r.commonAncestorContainer.nodeName)r.insertNode(o);else{var p=t.value;t.value=p.slice(0,a)+e+p.slice(c)}}t.setSelectionRange(a+e.length,a+e.length);var h=document.createEvent("UIEvent");h.initEvent("input",!0,!1),t.dispatchEvent(h)}}const{document:document_1}=globals;function get_each_context(t,e,n){const a=t.slice();return a[10]=e[n],a[11]=e,a[12]=n,a}function create_each_block(t){let e,n,a,c,r,o,i,s,l;function d(){t[3].call(n,t[11],t[12])}function u(){return t[4](t[10])}function p(){return t[5](t[10])}return{c(){e=element("label"),n=element("input"),a=element("button"),a.textContent="insert command",c=space(),r=element("button"),r.textContent="delete",o=space(),i=element("br"),attr(n,"type","text"),attr(n,"size","140")},m(h,_){insert(h,e,_),append(e,n),set_input_value(n,t[10].cmd),append(e,a),append(e,c),append(e,r),append(e,o),insert(h,i,_),s||(l=[listen(n,"input",d),listen(a,"click",u),listen(r,"click",p)],s=!0)},p(e,a){t=e,4&a&&n.value!==t[10].cmd&&set_input_value(n,t[10].cmd)},d(t){t&&detach(e),t&&detach(i),s=!1,run_all(l)}}}function create_fragment(t){let e,n,a,c,r,o,i,s,l,d,u,p,h,_,m,f,g,b,x,v,y,$,k="<script type='text/javascript' id='injected'>"+t[0]+"<\/script>",j=t[2],C=[];for(let e=0;e<j.length;e+=1)C[e]=create_each_block(get_each_context(t,j,e));return{c(){e=element("script"),a=element("link"),c=space(),r=element("a"),r.textContent="click to return github repository",o=space(),i=element("h3"),i.textContent="choose command",s=space();for(let t=0;t<C.length;t+=1)C[t].c();l=space(),d=element("input"),u=element("button"),u.textContent="click to add",p=space(),h=element("textarea"),_=space(),m=element("button"),m.textContent="rerender",f=space(),g=element("div"),b=space(),v=empty(),attr(e,"type","text/javascript"),attr(e,"charset","UTF-8"),e.src!==(n="https://cdn.jsdelivr.net/npm/jsxgraph@1.1.0/distrib/jsxgraphcore.js")&&attr(e,"src","https://cdn.jsdelivr.net/npm/jsxgraph@1.1.0/distrib/jsxgraphcore.js"),attr(a,"rel","stylesheet"),attr(a,"type","text/css"),attr(a,"href","https://cdn.jsdelivr.net/npm/jsxgraph@1.1.0/distrib/jsxgraph.css"),set_style(r,"text-decoration","none"),attr(r,"href","https://github.com/wuyudi/svelte-jsxgraph"),attr(d,"type","text"),attr(d,"size","150"),attr(d,"placeholder","type your own command"),attr(h,"id","jscode"),attr(h,"name","jscode"),attr(h,"rows","4"),attr(h,"cols","160"),attr(g,"id","box"),attr(g,"class","jxgbox"),set_style(g,"width","600px"),set_style(g,"height","300px"),x=new HtmlTag(v)},m(n,j){append(document_1.head,e),append(document_1.head,a),insert(n,c,j),insert(n,r,j),insert(n,o,j),insert(n,i,j),insert(n,s,j);for(let t=0;t<C.length;t+=1)C[t].m(n,j);insert(n,l,j),insert(n,d,j),set_input_value(d,t[1]),insert(n,u,j),insert(n,p,j),insert(n,h,j),set_input_value(h,t[0]),insert(n,_,j),insert(n,m,j),insert(n,f,j),insert(n,g,j),insert(n,b,j),x.m(k,n,j),insert(n,v,j),y||($=[listen(d,"input",t[6]),listen(u,"click",t[7]),listen(h,"input",t[8]),listen(m,"click",t[9])],y=!0)},p(t,[e]){if(4&e){let n;for(j=t[2],n=0;n<j.length;n+=1){const a=get_each_context(t,j,n);C[n]?C[n].p(a,e):(C[n]=create_each_block(a),C[n].c(),C[n].m(l.parentNode,l))}for(;n<C.length;n+=1)C[n].d(1);C.length=j.length}2&e&&d.value!==t[1]&&set_input_value(d,t[1]),1&e&&set_input_value(h,t[0]),1&e&&k!==(k="<script type='text/javascript' id='injected'>"+t[0]+"<\/script>")&&x.p(k)},i:noop,o:noop,d(t){detach(e),detach(a),t&&detach(c),t&&detach(r),t&&detach(o),t&&detach(i),t&&detach(s),destroy_each(C,t),t&&detach(l),t&&detach(d),t&&detach(u),t&&detach(p),t&&detach(h),t&&detach(_),t&&detach(m),t&&detach(f),t&&detach(g),t&&detach(b),t&&detach(v),t&&x.d(),y=!1,run_all($)}}}function instance($$self,$$props,$$invalidate){let textareaContent="var board = JXG.JSXGraph.initBoard('box', {boundingbox: [-20, 10, 20, -10], axis:true});\n",addCommand="",itemList=[{cmd:"let segment = board.create('segment', [p1, p2]);"},{cmd:"let circle = board.create('circle', [p1, p2]);"},{cmd:"let conic = board.create('conic',[A,B,C,D,E]);"},{cmd:"let point = board.create('point', [1.0, 1.0]);"}];function input_input_handler(t,e){t[e].cmd=this.value,$$invalidate(2,itemList)}const click_handler=t=>index(document.getElementById("jscode"),t.cmd+"\n"),click_handler_1=t=>{$$invalidate(2,itemList=itemList.filter((e=>e.cmd!==t.cmd)))};function input_input_handler_1(){addCommand=this.value,$$invalidate(1,addCommand)}const click_handler_2=()=>{$$invalidate(2,itemList=[...itemList,{cmd:addCommand}]),$$invalidate(1,addCommand="")};function textarea_input_handler(){textareaContent=this.value,$$invalidate(0,textareaContent)}const click_handler_3=()=>{eval(document.getElementById("injected").innerHTML)};return[textareaContent,addCommand,itemList,input_input_handler,click_handler,click_handler_1,input_input_handler_1,click_handler_2,textarea_input_handler,click_handler_3]}class App extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment,safe_not_equal,{})}}const app=new App({target:document.body});return app}();
//# sourceMappingURL=bundle.js.map
